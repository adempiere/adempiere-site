"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[3996],{89418:(e,a,t)=>{t.r(a),t.d(a,{default:()=>U});var s=t(78e3);const i=(0,s._)("p",null,"After having installed the database and setup the ADempiere Application Server, the database needs to be initialized prior to launching the Application Server and any client software.",-1),n=(0,s._)("div",{class:"custom-container info"},[(0,s._)("p",{class:"custom-container-title"},"Info"),(0,s._)("p",null,[(0,s._)("img",{src:"https://github.com/adempiere/adempiere-site/assets/134967453/2a3d33b8-d2d9-4c38-900c-2967c0a7e5fa",alt:"image"}),(0,s.Uk)(" Note: The utility scripts provided with the Application software need to have access to the database functions in order to run. In a network installation, you may have to copy the database executable files to the Application Server machine, install a local copy of the database on the application server or manually install the seed database on the database server. Detailed instructions are provided below. | | :--- | :--- |")])],-1),l=(0,s._)("p",null,"Before starting with the database creation, ensure that you have the following installed:",-1),r=(0,s.Uk)("A suitable database (e.g., Oracle XXg, Oracle XXgXE, PostgreSQL, MySQL) and that the database server is running. See "),o=(0,s.Uk)("Database Server Installation & Setup"),d=(0,s.Uk)("."),p=(0,s.Uk)("The application server installation is complete. See "),c=(0,s.Uk)("Application Server Installation & Setup"),E=(0,s.Uk)("."),h=(0,s.uE)('<h2 id="database-creation" tabindex="-1"><a class="header-anchor" href="#database-creation" aria-hidden="true">#</a> Database Creation</h2><p>The database created when you installed Oracle/Postgres/MySQL has no ADempiere data. Before the ADempiere application can run, a suitable database must be created. This can be done by installing the Seed Database provided with the software or by restoring a previously created database.</p><h2 id="database-creation-from-the-seed" tabindex="-1"><a class="header-anchor" href="#database-creation-from-the-seed" aria-hidden="true">#</a> Database Creation from the Seed</h2><p>The initial ADempiere Seed database is imported from the Adempiere.dmp file for Oracle or Adempiere_pg.dmp for PostgreSQL, located in the ADEMPIERE_HOME/data directory.</p><p>Open shell and change directories to the ADEMPIERE_HOME/utils directory.</p><div class="custom-container info"><p class="custom-container-title">Note</p><p><img src="https://github.com/adempiere/adempiere-site/assets/134967453/3499ed3a-24a2-4bb9-8645-fa1f5dc5fa1b" alt="image"> Caution! The following script will DROP any existing adempiere database. Do not run this command if you already have data loaded.</p></div><p><strong>Run the script RUN_ImportAdempiere (.bat or .sh).</strong></p><p>You will see information about .dmp file (such as date creation, size, etc.) and the message: == The import will show warnings. This is Ok</p><p><img src="https://github.com/adempiere/adempiere-site/assets/134967453/a17114df-996f-41f9-a32e-ab46beccf30f" alt="image"></p><p>Press any key to start the process.</p><p>Don&#39;t worry if you see warnings (such as &quot;Warning: object created with compilation warnings&quot;). This is normal and can be ignored. After the import has finished, an SQL procedure makes sure that everything has been imported correctly and will list any invalid objects.</p><p><img src="https://github.com/adempiere/adempiere-site/assets/134967453/18de5877-1ff9-41e0-bd13-a70014b4e4d6" alt="image"></p><p>At the process end, you should see a message similar to the one displayed below, with the text &quot;no rows selected&quot;.</p><p><img src="https://github.com/adempiere/adempiere-site/assets/134967453/4adcae87-f3db-4029-bee4-28a51b9cca8b" alt="image"></p><p>A common cause of problems when running this script is not having the environment variables set properly. The script will not run if ADEMPIERE_HOME, JAVA_HOME are set incorrectly or if the database executables are not on the path. It may also be necessary to add the Postgres/Oracle bin directory to the PATH environment variable in some environments.</p><h2 id="next-step" tabindex="-1"><a class="header-anchor" href="#next-step" aria-hidden="true">#</a> Next Step</h2>',16),u=(0,s.Uk)("The next step is The next step is "),m={href:"http://wiki.adempiere.net/InstallComplete",target:"_blank",rel:"noopener noreferrer"},b=(0,s.Uk)("Complete ADempiere Server Install"),D=(0,s.Uk)("."),_=(0,s.uE)('<h2 id="notes" tabindex="-1"><a class="header-anchor" href="#notes" aria-hidden="true">#</a> Notes</h2><p>For Oracle Users:</p><ol><li><p>Ensure that the tablespaces for the database user Adempiere exist. The default database tablespace names are:</p><ul><li>Default tablespace = USER (150 MB, 10 MB Autoextend),</li><li>Index tablespace = INDX (100 MB, 10 MB Autoextend),</li><li>Temporary tablespace = TEMP (100 MB, 10 MB Autoextend).</li></ul></li><li><p>The setup script has been changed to use the EZCONNECT naming method instead of TNSNAMES. Open your Oracle Net Manager, under profile -&gt; Naming, make sure EZCONNECT is one of the selected methods. Alternatively, verify that the SQLNET.ORA file has the following entries:</p></li></ol><ul><li><strong><code>NAMES.DIRECTORY_PATH = (EZCONNECT,TNSNAMES)</code></strong></li></ul><h2 id="installation-details" tabindex="-1"><a class="header-anchor" href="#installation-details" aria-hidden="true">#</a> Installation Details</h2><p>The script RUN_ImportAdempiere simply calls the script ImportAdempiere in the</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token variable">$ADEMPIERE_HOME</span>/utils/<span class="token operator">&lt;</span>database<span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>directory. The version of ImportAdempiere called deals with the specific setup needs of the various databases.</p><p>Since 3.8.0, the RUN_ImportAdempiere script will also import and apply any migrations found in the $ADEMPIERE_HOME/migrations directory.</p><p>Following the database import, the database is signed - to indicate the version of the database.</p><p>The ImportAdempiere script is called with the following parameters:</p><p>In the context of ADempiere installation:</p><ul><li><p>For PostgreSQL installation, the following are not used:</p><ul><li><code>%ADEMPIERE_DB_SYSTEM%</code></li><li><code>%ADEMPIERE_DB_SYSTEM%</code></li></ul></li><li><p>For both PostgreSQL and Oracle installations, the following are typically used:</p><ul><li><code>%ADEMPIERE_DB_USER%</code> (typically Adempiere)</li><li><code>%ADEMPIERE_DB_PASSWORD%</code> (typically Adempiere)</li></ul></li></ul><p>In addition, the following environment variables are required and should have been set by the Application Setup process:</p><ul><li><code>ADEMPIERE_HOME</code>: e.g., <code>D:\\ADEMPIERE2</code></li><li><code>ADEMPIERE_DB_NAME</code>: e.g., <code>adempiere</code> or <code>xe</code></li><li><code>ADEMPIERE_DB_SERVER</code>: e.g., <code>dbserver.adempiere.org</code></li><li><code>ADEMPIERE_DB_PORT</code>: e.g., <code>5432</code> or <code>1521</code></li></ul><p>The descriptions below are not correct code and are intended for information purposes only. See the actual scripts for the details.</p><h4 id="postgres" tabindex="-1"><a class="header-anchor" href="#postgres" aria-hidden="true">#</a> Postgres</h4><p>The ADEMPIERE_HOME/utils/postgresql/ImportAdempiere script will run the following commands:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>-- Drop the ADempiere database <span class="token keyword">if</span> it exists\ndropdb -h %ADEMPIERE_DB_SERVER% -p %ADEMPIERE_DB_PORT% -U postgres %ADEMPIERE_DB_NAME%\n\n-- Drop the ADempiere user <span class="token keyword">if</span> it exists\ndropuser -h %ADEMPIERE_DB_SERVER% -p %ADEMPIERE_DB_PORT% -U postgres %ADEMPIERE_DB_PASSWORD%\n\n-- Recreate the ADempiere user\n<span class="token builtin class-name">set</span> <span class="token assign-left variable">ADEMPIERE_CREATE_ROLE_SQL</span><span class="token operator">=</span>CREATE ROLE %ADEMPIERE_DB_USER% SUPERUSER LOGIN PASSWORD <span class="token string">&#39;%ADEMPIERE_DB_PASSWORD%&#39;</span>\npsql -h %ADEMPIERE_DB_SERVER% -p %ADEMPIERE_DB_PORT% -U postgres -c <span class="token string">&quot;%ADEMPIERE_CREATE_ROLE_SQL%&quot;</span>\n\n-- Create the ADempiere database <span class="token punctuation">(</span>empty<span class="token punctuation">)</span>\n<span class="token builtin class-name">set</span> <span class="token assign-left variable">PGPASSWORD</span><span class="token operator">=</span>%ADEMPIERE_DB_PASSWORD%\ncreatedb -h %ADEMPIERE_DB_SERVER% -p %ADEMPIERE_DB_PORT% -E UNICODE -O %ADEMPIERE_DB_USER% -U %ADEMPIERE_DB_USER% %ADEMPIERE_DB_NAME%\n\n-- Import the seed data\n@psql -h %ADEMPIERE_DB_SERVER% -p %ADEMPIERE_DB_PORT% -d %ADEMPIERE_DB_NAME% -U %ADEMPIERE_DB_USER% -f %ADEMPIERE_HOME%/data/Adempiere_pg.dmp\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="oracle-and-oraclexe" tabindex="-1"><a class="header-anchor" href="#oracle-and-oraclexe" aria-hidden="true">#</a> Oracle and OracleXE</h4><p>The ADEMPIERE_HOME/utils/oracle(XE)/ImportAdempiere script will run the following commands:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>-- Re-Create DB user\nsqlplus system/%ADEMPIERE_DB_SYSTEM%@%ADEMPIERE_DB_SERVER%:%ADEMPIERE_DB_PORT%/%ADEMPIERE_DB_NAME% _\n   @%ADEMPIERE_HOME%<span class="token punctuation">\\</span>Utils<span class="token punctuation">\\</span>%ADEMPIERE_DB_PATH%<span class="token punctuation">\\</span>CreateUser.sql %ADEMPIERE_DB_USER% %ADEMPIERE_DB_SYSTEM%\n\n-- Import Adempiere.dmp\nimp system/%ADEMPIERE_DB_SYSTEM%@%ADEMPIERE_DB_SERVER%:%ADEMPIERE_DB_PORT%/%ADEMPIERE_DB_NAME% _\n   <span class="token assign-left variable">FILE</span><span class="token operator">=</span>%ADEMPIERE_HOME%<span class="token punctuation">\\</span>data<span class="token punctuation">\\</span>Adempiere.dmp <span class="token assign-left variable">FROMUSER</span><span class="token operator">=</span><span class="token punctuation">(</span>reference<span class="token punctuation">)</span> <span class="token assign-left variable">TOUSER</span><span class="token operator">=</span>%ADEMPIERE_DB_USER% <span class="token assign-left variable">STATISTICS</span><span class="token operator">=</span>RECALCULATE\n\n-- Create SQLJ \ncall %ADEMPIERE_HOME%<span class="token punctuation">\\</span>Utils<span class="token punctuation">\\</span>%ADEMPIERE_DB_PATH%<span class="token punctuation">\\</span>create %ADEMPIERE_DB_USER%/%ADEMPIERE_DB_PASSWORD%\n\n-- System Check - The Import phase showed warnings. \n-- This is OK as long as the following does not show errors\nsqlplus %ADEMPIERE_DB_USER%/%ADEMPIERE_DB_PASSWORD%@%ADEMPIERE_DB_SERVER%:%ADEMPIERE_DB_PORT%/%ADEMPIERE_DB_NAME% _\n   @%ADEMPIERE_HOME%<span class="token punctuation">\\</span>Utils<span class="token punctuation">\\</span>%ADEMPIERE_DB_PATH%<span class="token punctuation">\\</span>AfterImport.sql\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="see-also" tabindex="-1"><a class="header-anchor" href="#see-also" aria-hidden="true">#</a> See Also</h2>',23),A={href:"http://wiki.adempiere.net/InstallComplete",target:"_blank",rel:"noopener noreferrer"},v=(0,s.Uk)("Complete ADempiere Server Install"),g=(0,s.Uk)(" is the next thing after Create ADempiere Database."),R={href:"http://wiki.adempiere.net/ManPageX_InitialClientSetup",target:"_blank",rel:"noopener noreferrer"},f=(0,s.Uk)("Initial Client Setup"),I=(0,s.Uk)(" is the starting business setup within ADempiere."),M={href:"http://wiki.adempiere.net/Getting_Started",target:"_blank",rel:"noopener noreferrer"},S=(0,s.Uk)("Getting Started"),P=(0,s.Uk)(" Tutorial on how to setup and configure ADempiere."),k={href:"http://wiki.adempiere.net/Tutorials",target:"_blank",rel:"noopener noreferrer"},y=(0,s.Uk)("Tutorials"),T=(0,s.Uk)(" on many things from basic to advanced. If you have any further problems installing the Oracle database or you would like to remove it, additional information can be found in here: "),w={href:"http://download-east.oracle.com/docs/cd/B25329_01/doc/install.102/b25143/toc.htm#CIHDDHJD",target:"_blank",rel:"noopener noreferrer"},O=(0,s.Uk)("[1]"),B={},U=(0,t(13860).Z)(B,[["render",function(e,a){const t=(0,s.up)("RouterLink"),B=(0,s.up)("ExternalLinkIcon");return(0,s.wg)(),(0,s.iD)("div",null,[i,n,l,(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("p",null,[r,(0,s.Wm)(t,{to:"/docs/system-administration/installation/database-server-installation-and-setup.html"},{default:(0,s.w5)((()=>[o])),_:1}),d])]),(0,s._)("li",null,[(0,s._)("p",null,[p,(0,s.Wm)(t,{to:"/docs/system-administration/installation/application-server-installation-and-setup.html"},{default:(0,s.w5)((()=>[c])),_:1}),E])])]),h,(0,s._)("p",null,[u,(0,s._)("a",m,[b,(0,s.Wm)(B)]),D]),_,(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("p",null,[(0,s._)("a",A,[v,(0,s.Wm)(B)]),g])]),(0,s._)("li",null,[(0,s._)("p",null,[(0,s._)("a",R,[f,(0,s.Wm)(B)]),I])]),(0,s._)("li",null,[(0,s._)("p",null,[(0,s._)("a",M,[S,(0,s.Wm)(B)]),P])]),(0,s._)("li",null,[(0,s._)("p",null,[(0,s._)("a",k,[y,(0,s.Wm)(B)]),T,(0,s._)("a",w,[O,(0,s.Wm)(B)])])])])])}]])},61553:(e,a,t)=>{t.r(a),t.d(a,{data:()=>s});const s=JSON.parse('{"key":"v-809ce2a8","path":"/docs/system-administration/installation/initialize-the-database.html","title":"Initialize the Database","lang":"en-US","frontmatter":{"title":"Initialize the Database","category":["Documentation"],"star":9,"sticky":9,"article":false,"author":"Jesús Albujas","summary":"After having installed the database and setup the ADempiere Application Server, the database needs to be initialized prior to launching the Application Server and any client softwa","head":[["meta",{"property":"og:url","content":"https://github.com/adempiere/adempiere-site.github.io/docs/system-administration/installation/initialize-the-database.html"}],["meta",{"property":"og:title","content":"Initialize the Database"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2023-12-26T20:09:37.000Z"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"es-ES"}],["meta",{"property":"article:author","content":"Jesús Albujas"}],["meta",{"property":"article:modified_time","content":"2023-12-26T20:09:37.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"Database Creation","slug":"database-creation","children":[]},{"level":2,"title":"Database Creation from the Seed","slug":"database-creation-from-the-seed","children":[]},{"level":2,"title":"Next Step","slug":"next-step","children":[]},{"level":2,"title":"Notes","slug":"notes","children":[]},{"level":2,"title":"Installation Details","slug":"installation-details","children":[]},{"level":2,"title":"See Also","slug":"see-also","children":[]}],"git":{"createdTime":1703621377000,"updatedTime":1703621377000,"contributors":[{"name":"Jesús Albujas","email":"134967453+JesusAlbujas@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":3.49,"words":1047},"filePathRelative":"docs/system-administration/installation/initialize-the-database.md","localizedDate":"December 26, 2023"}')}}]);